# hex
Решение для хакатона для отслеживания контейнеров на складах

# Описание проектов решения
## hex.api
Сервер приложения. 
- Принмает соединения от устройств обнаружения маячков через SignalR, откуда получает данные телеметрии и обрабатывает их.
- Рисует web-интерфейс прилоложения
- Содержит REST API для интеграции с внешними сервисами

Основные файлы 
* ```Hubs/ObserverHub.cs``` - SignalR причёмник
* ```Controllers/ApiController.cs``` - REST API
* ```Controllers/HomeController.cs``` - Контроллер web интерфейса
* ```Services/ContainerStateService.cs``` - Сервис принимающий данные из SignalR приёмника, и обрабатывающий пакеты телеметрии. Содержит снимок текущего местоположения\состояния контейнеров, а так же кладёт в базу изменения местоположений\состояний контейнеров
* ```Service/WarehouseService.cs``` - Сервис взаимодйсвия с БД
* ```Models/*.cs``` сущности, используемые в системе

## hex.common
Общая библиотка устройства обнаружения и сервера содержащая модели пакетов телеметрии

## hex.observer
Приложение для Raspberry PI которое мониторит вокруг себя Bluetooth LE устройства, и отправляет телеметрию на сервер
Телеметрия включает в себя идентификтаор устройства и мощность его сигнала.

- В случае решения с RFID метками приложение обслуживает сканеры RFID меток и шлёт на сервер их идентификаторы и события обнаружения
- В случае использования Bluetooth LE Beacon`ов приложение шлёт данные уровня сигнала до маячка.
При большом количестве устройство обнаружения на территории склада возможно использование траингулции по уровням сигнала
Это обсупечит точное определение позиции контейнера на площадке
 
#hex.observer.common
Общие компоненты приложения устройства обнаружения

#hex.observer.simulator
Симулятор устройства обнаружения, подключается к серверу и шлёт каждые 5 секунд пакет телеметрии, содержащий идентификаторы двух маячков контейнеров
Один контейнер остаётся неподвижным, второй контейнер рандомного "прыгает" с места на место